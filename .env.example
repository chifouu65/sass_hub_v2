# ============================================
# Configuration SaaS Hub
# ============================================
# Copiez ce fichier vers .env et ajustez les valeurs selon votre environnement
# cp .env.example .env

# ============================================
# Base de données MySQL Hub
# ============================================
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=hub_user
DB_PASSWORD=hub_password
DB_DATABASE=hub_db

# ============================================
# Base de données MySQL Tenant (multi-tenant)
# ============================================
TENANT_DB_HOST=localhost
TENANT_DB_PORT=3307
TENANT_DB_ROOT_PASSWORD=rootpassword
TENANT_DB_USER=tenant_user
TENANT_DB_PASSWORD=tenant_password
TENANT_DB_TEMPLATE=tenant_template

# ============================================
# Redis (Cache et Sessions)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# RabbitMQ (Messaging)
# ============================================
RABBITMQ_URL=amqp://admin:admin@localhost:5672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# ============================================
# Application Backend
# ============================================
NODE_ENV=development
PORT=3000
API_GATEWAY_PORT=3000
API_PREFIX=api

# ============================================
# Authentification JWT
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-characters
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-super-secret-refresh-jwt-key-change-in-production-min-32-characters
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# OAuth2 / SSO (optionnel)
# ============================================
OAUTH2_CLIENT_ID=
OAUTH2_CLIENT_SECRET=
OAUTH2_AUTHORIZATION_URL=
OAUTH2_TOKEN_URL=
OAUTH2_USERINFO_URL=
OAUTH2_REDIRECT_URI=http://localhost:4200/auth/callback

# ============================================
# Frontend Configuration
# ============================================
FRONTEND_URL=http://localhost:4200
BACKEND_URL=http://localhost:3000
API_URL=http://localhost:3000/api

# ============================================
# Email / Notification Service (optionnel)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@saas-hub.com
SMTP_SECURE=false

# ============================================
# File Upload / Storage (optionnel)
# ============================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ============================================
# Logging
# ============================================
LOG_LEVEL=debug
LOG_FORMAT=json

# ============================================
# Security
# ============================================
CORS_ORIGIN=http://localhost:4200
BCRYPT_ROUNDS=10
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ============================================
# Docker / Development
# ============================================
# Pour utilisation avec docker-compose, utilisez les noms de services :
# DB_HOST=mysql-hub
# REDIS_HOST=redis
# RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672
# RABBITMQ_HOST=rabbitmq

# ============================================
# OAuth2 Providers (optionnel)
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:3000/api/auth/github/callback

# Microsoft OAuth
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_CALLBACK_URL=http://localhost:3000/api/auth/microsoft/callback
